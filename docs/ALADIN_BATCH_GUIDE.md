# ğŸ“š Aladin Enrichment Batch ì´í•´ ê°€ì´ë“œ

> **ëŒ€ìƒ ë…ì**: Spring Batchê°€ ì²˜ìŒì´ê±°ë‚˜ ì•„ì§ ìµìˆ™í•˜ì§€ ì•Šì€ í•™ìŠµì  
> **ëª©ì **: `batch/aladin` íŒ¨í‚¤ì§€ì˜ êµ¬ì¡°ì™€ ë™ì‘ ì›ë¦¬ë¥¼ ì´í•´í•˜ê¸° ì‰½ê²Œ ì„¤ëª…

---

## ğŸ“Œ ëª©ì°¨

1. [ë°°ê²½: ì™œ ì´ ë°°ì¹˜ê°€ í•„ìš”í•œê°€?](#1-ë°°ê²½-ì™œ-ì´-ë°°ì¹˜ê°€-í•„ìš”í•œê°€)
2. [ì „ì²´ íë¦„ ìš”ì•½ (Big Picture)](#2-ì „ì²´-íë¦„-ìš”ì•½-big-picture)
3. [Spring Batch í•µì‹¬ ê°œë… ë¹ ë¥¸ ì •ë¦¬](#3-spring-batch-í•µì‹¬-ê°œë…-ë¹ ë¥¸-ì •ë¦¬)
4. [íŒ¨í‚¤ì§€ êµ¬ì¡°ì™€ ì—­í• ](#4-íŒ¨í‚¤ì§€-êµ¬ì¡°ì™€-ì—­í• )
5. [í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ìƒì„¸ ì„¤ëª…](#5-í•µì‹¬-ì»´í¬ë„ŒíŠ¸-ìƒì„¸-ì„¤ëª…)
6. [Redisë¥¼ ì´ìš©í•œ ì¿¼í„° ê´€ë¦¬](#6-redisë¥¼-ì´ìš©í•œ-ì¿¼í„°-ê´€ë¦¬)
7. [GitHub Actionsë¡œ ìŠ¤ì¼€ì¤„ë§í•˜ê¸°](#7-github-actionsë¡œ-ìŠ¤ì¼€ì¤„ë§í•˜ê¸°)
8. [ì „ì²´ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨](#8-ì „ì²´-ì‹œí€€ìŠ¤-ë‹¤ì´ì–´ê·¸ë¨)
9. [FAQ & íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#9-faq--íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## 1. ë°°ê²½: ì™œ ì´ ë°°ì¹˜ê°€ í•„ìš”í•œê°€?

### ğŸ¯ ë¬¸ì œ ìƒí™©

1. **ë„ì„œ ë°ì´í„° ë¶€ì¡±**: CSVì—ì„œ íŒŒì‹±í•œ ë„ì„œ ë°ì´í„°ì—ëŠ” ê¸°ë³¸ ì •ë³´ë§Œ ìˆìŒ (ì œëª©, ISBN ì •ë„)
2. **Aladin API í™œìš©**: ìƒì„¸ ì •ë³´(ê°€ê²©, ì¶œíŒì¼, ì €ì, ì¹´í…Œê³ ë¦¬ ë“±)ë¥¼ Aladin APIë¡œ ë³´ê°•í•´ì•¼ í•¨
3. **API í˜¸ì¶œ ì œí•œ**: Aladin APIëŠ” **í•˜ë£¨ 5,000ê±´/APIí‚¤** ì œí•œì´ ìˆìŒ

### ğŸ’¡ í•´ê²° ë°©ë²•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  8ê°œì˜ API í‚¤ë¥¼ ì‚¬ìš©í•´ì„œ í•˜ë£¨ ìµœëŒ€ 40,000ê±´ ì²˜ë¦¬!           â”‚
â”‚  (5,000ê±´ Ã— 8 = 40,000ê±´)                                   â”‚
â”‚                                                             â”‚
â”‚  ê° API í‚¤ë¥¼ ë³„ë„ ìŠ¤ë ˆë“œ(íŒŒí‹°ì…˜)ì—ì„œ ë³‘ë ¬ë¡œ ì²˜ë¦¬             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ì „ì²´ íë¦„ ìš”ì•½ (Big Picture)

```
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚                    aladinEnrichmentJob                        â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
                                                       â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚                    aladinMasterStep                           â”‚
                          â”‚         (8ê°œ íŒŒí‹°ì…˜ìœ¼ë¡œ ì‘ì—… ë¶„ë°° - Partitioner)               â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â–¼             â–¼             â–¼           â–¼             â–¼             â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     ...     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ partition0â”‚ â”‚ partition1â”‚ â”‚ partition2â”‚             â”‚ partition6â”‚ â”‚ partition7â”‚
              â”‚ (APIí‚¤ 1) â”‚ â”‚ (APIí‚¤ 2) â”‚ â”‚ (APIí‚¤ 3) â”‚             â”‚ (APIí‚¤ 7) â”‚ â”‚ (APIí‚¤ 8) â”‚
              â”‚ 5,000ê±´   â”‚ â”‚ 5,000ê±´   â”‚ â”‚ 5,000ê±´   â”‚             â”‚ 5,000ê±´   â”‚ â”‚ 5,000ê±´   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚             â”‚             â”‚                         â”‚             â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
                                          ê° íŒŒí‹°ì…˜ì´ ë…ë¦½ì ìœ¼ë¡œ:
                                          Reader â†’ Processor â†’ Writer ë°˜ë³µ
```

### ê° ë‹¨ê³„ì—ì„œ í•˜ëŠ” ì¼

| ë‹¨ê³„ | ì»´í¬ë„ŒíŠ¸ | ì—­í•  |
|------|----------|------|
| **ë¶„ë°°** | `AladinEnrichmentPartitioner` | PENDING ë„ì„œë¥¼ 8ê°œ íŒŒí‹°ì…˜ìœ¼ë¡œ ID ë²”ìœ„ë¡œ ë‚˜ëˆ” |
| **ì½ê¸°** | `AladinEnrichmentReader` | íŒŒí‹°ì…˜ë³„ PENDING ë„ì„œ 100ê±´ì”© ì¡°íšŒ |
| **ì²˜ë¦¬** | `AladinEnrichmentProcessor` | Aladin API í˜¸ì¶œ + ë°ì´í„° ë§¤í•‘ |
| **ì €ì¥** | `AladinEnrichmentWriter` | Handlerë“¤ì´ ìˆœì„œëŒ€ë¡œ DB ì €ì¥ |

---

## 3. Spring Batch í•µì‹¬ ê°œë… ë¹ ë¥¸ ì •ë¦¬

### ğŸ”‘ ê¼­ ì•Œì•„ì•¼ í•  ìš©ì–´

```java
// Job: í•˜ë‚˜ì˜ ë°°ì¹˜ ì‘ì—… ì „ì²´
Job aladinEnrichmentJob = new JobBuilder("aladinEnrichmentJob", jobRepository)
        .start(aladinMasterStep)  // Stepìœ¼ë¡œ êµ¬ì„±
        .build();

// Step: Jobì„ êµ¬ì„±í•˜ëŠ” ë‹¨ìœ„ ì‘ì—…
Step aladinWorkerStep = new StepBuilder("aladinWorkerStep", jobRepository)
        .<Input, Output>chunk(100, transactionManager)  // Chunk ë‹¨ìœ„ë¡œ ì²˜ë¦¬
        .reader(reader)      // ë°ì´í„° ì½ê¸°
        .processor(processor) // ë°ì´í„° ë³€í™˜
        .writer(writer)       // ë°ì´í„° ì €ì¥
        .build();
```

### ğŸ“¦ Chunk Processing (ì²­í¬ ì²˜ë¦¬)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "100ê±´ ë‹¨ìœ„ë¡œ ë¬¶ì–´ì„œ ì²˜ë¦¬" = Chunk Size 100                                â”‚
â”‚                                                                            â”‚
â”‚  ì™œ ë¬¶ì–´ì„œ ì²˜ë¦¬? â†’ í•œ ê±´ì”© DB ì €ì¥í•˜ë©´ ë„ˆë¬´ ëŠë¦¼!                           â”‚
â”‚                  100ê±´ ëª¨ì•„ì„œ í•œ ë²ˆì— ì €ì¥ (Bulk Insert)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Reader]           [Processor]              [Writer]
   â”‚                    â”‚                       â”‚
   â”‚  1ê±´ ì½ê¸° â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
   â”‚  2ê±´ ì½ê¸° â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
   â”‚  ...               â”‚                       â”‚
   â”‚  100ê±´ ì½ê¸° â”€â”€â”€â”€â”€â”€>â”‚                       â”‚
   â”‚                    â”‚  100ê±´ ë³€í™˜ ì™„ë£Œ      â”‚
   â”‚                    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 100ê±´ í•œ ë²ˆì— ì €ì¥!
   â”‚                                            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”€ Partitioning (íŒŒí‹°ì…”ë‹)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "í° ì‘ì—…ì„ ì—¬ëŸ¬ ê°œë¡œ ìª¼ê°œì„œ ë³‘ë ¬ ì²˜ë¦¬"                                      â”‚
â”‚                                                                            â”‚
â”‚  ì™œ íŒŒí‹°ì…”ë‹? â†’ 8ê°œ API í‚¤ë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ë ¤ê³ !                             â”‚
â”‚              â†’ ìˆœì°¨ ì²˜ë¦¬ ì‹œ 8ì‹œê°„ ê±¸ë¦´ ê²ƒì„ 1ì‹œê°„ì— ëëƒ„                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    ì „ì²´ PENDING ë„ì„œ (ì˜ˆ: 80,000ê±´)
                              â”‚
                              â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚         Partitioner         â”‚
                â”‚  ID ë²”ìœ„ë¡œ 8ë“±ë¶„ í•˜ê¸°        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â–¼          â–¼          â–¼          â–¼          â–¼
   partition0  partition1  partition2  ...     partition7
   (1~10000)   (10001~20000) ...                (70001~80000)
       â”‚          â”‚          â”‚                     â”‚
       â–¼          â–¼          â–¼                     â–¼
   ThreadPoolì—ì„œ ê°ê° ë³‘ë ¬ë¡œ ì‹¤í–‰!
```

### ğŸ·ï¸ @StepScope

```java
@Bean
@StepScope  // â† ì´ê²Œ ë­ì•¼?
public ItemProcessor<...> aladinEnrichmentProcessor(
        @Value("#{stepExecutionContext['partitionIndex']}") Integer partitionIndex) {
    // ...
}
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  @StepScope = "Stepì´ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±"                        â”‚
â”‚                                                                            â”‚
â”‚  ì™œ í•„ìš”í•´?                                                                 â”‚
â”‚  â†’ íŒŒí‹°ì…˜ë§ˆë‹¤ ë‹¤ë¥¸ API í‚¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨                                      â”‚
â”‚  â†’ partition0ì€ APIí‚¤1, partition1ì€ APIí‚¤2... ì´ë ‡ê²Œ ë‹¤ë¥´ê²Œ!               â”‚
â”‚                                                                            â”‚
â”‚  #{stepExecutionContext['partitionIndex']}                                 â”‚
â”‚  â†’ Partitionerê°€ ë„£ì–´ì¤€ "ë‚˜ëŠ” ëª‡ ë²ˆ íŒŒí‹°ì…˜ì´ì•¼" ì •ë³´ë¥¼ êº¼ë‚´ ì“°ëŠ” ê²ƒ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. íŒ¨í‚¤ì§€ êµ¬ì¡°ì™€ ì—­í• 

```
batch/aladin/
â”œâ”€â”€ AladinEnrichmentJobConfig.java  â˜… Job/Step ì„¤ì • (ëª¨ë“  ê²ƒì„ ì—°ê²°!)
â”‚
â”œâ”€â”€ client/
â”‚   â””â”€â”€ AladinApiClient.java        â˜… Aladin API ì‹¤ì œ í˜¸ì¶œ
â”‚
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ AladinItemDto.java          API ì‘ë‹µ ë§¤í•‘ìš©
â”‚   â”œâ”€â”€ AladinBookInfoDto.java      ìƒì„¸ ì •ë³´ (subTitle, ì €ì ë“±)
â”‚   â”œâ”€â”€ AladinResponseDto.java      API ì‘ë‹µ ì „ì²´ ë˜í¼
â”‚   â”œâ”€â”€ BookEnrichmentTarget.java   Reader â†’ Processor ì „ë‹¬ìš©
â”‚   â””â”€â”€ EnrichmentResultDto.java    Processor â†’ Writer ì „ë‹¬ìš©
â”‚
â”œâ”€â”€ exception/
â”‚   â”œâ”€â”€ DailyQuotaExceededException.java  5,000ê±´ ì´ˆê³¼ ì‹œ ë°œìƒ
â”‚   â””â”€â”€ RateLimitExceededException.java   API 429 ì—ëŸ¬ ì‹œ ë°œìƒ
â”‚
â”œâ”€â”€ extractor/
â”‚   â”œâ”€â”€ AladinAuthorExtractor.java  ì €ì ì •ë³´ ì¶”ì¶œ
â”‚   â””â”€â”€ CategoryTagExtractor.java   ì¹´í…Œê³ ë¦¬ â†’ íƒœê·¸ ë³€í™˜
â”‚
â”œâ”€â”€ handler/                        â˜… Writerê°€ ì‚¬ìš©í•˜ëŠ” ì €ì¥ í•¸ë“¤ëŸ¬ë“¤
â”‚   â”œâ”€â”€ EnrichmentSaveHandler.java  (ì¸í„°í˜ì´ìŠ¤)
â”‚   â”œâ”€â”€ BookUpdateHandler.java      Book ì—”í‹°í‹° ì—…ë°ì´íŠ¸ (order=10)
â”‚   â”œâ”€â”€ ImageSaveHandler.java       í‘œì§€ ì´ë¯¸ì§€ ì €ì¥ (order=20)
â”‚   â”œâ”€â”€ AuthorSaveHandler.java      ì €ì ì €ì¥ (order=30)
â”‚   â”œâ”€â”€ TagSaveHandler.java         íƒœê·¸ ì €ì¥ (order=40)
â”‚   â””â”€â”€ BatchStatusHandler.java     ìƒíƒœ ì—…ë°ì´íŠ¸ (order=50)
â”‚
â”œâ”€â”€ listener/
â”‚   â””â”€â”€ QuotaExhaustedStepListener.java  ì¿¼í„° ì´ˆê³¼ ì‹œ ì •ìƒ ì¢…ë£Œ ì²˜ë¦¬
â”‚
â”œâ”€â”€ mapper/
â”‚   â””â”€â”€ AladinBookMapper.java       API ì‘ë‹µ â†’ Book ì—”í‹°í‹° ë§¤í•‘
â”‚
â”œâ”€â”€ partitioner/
â”‚   â””â”€â”€ AladinEnrichmentPartitioner.java  8ê°œ íŒŒí‹°ì…˜ ë¶„ë°°
â”‚
â”œâ”€â”€ processor/
â”‚   â””â”€â”€ AladinEnrichmentProcessor.java   â˜… API í˜¸ì¶œ + ë°ì´í„° ì¡°í•©
â”‚
â”œâ”€â”€ reader/
â”‚   â””â”€â”€ AladinEnrichmentReader.java      PENDING ë„ì„œ ì¡°íšŒ
â”‚
â””â”€â”€ writer/
    â””â”€â”€ AladinEnrichmentWriter.java      Handler ìˆœì°¨ ì‹¤í–‰
```

---

## 5. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ìƒì„¸ ì„¤ëª…

### 5.1 AladinEnrichmentJobConfig â­

**ì—­í• **: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ì—°ê²°í•˜ëŠ” "ì¡°ë¦½ ê³µì¥"

```java
@Configuration
public class AladinEnrichmentJobConfig {
    
    private static final int CHUNK_SIZE = 100;  // í•œ ë²ˆì— 100ê±´ì”© ì²˜ë¦¬
    private static final int GRID_SIZE = 8;     // 8ê°œ íŒŒí‹°ì…˜ (= 8ê°œ API í‚¤)
    
    // Job ì •ì˜: "aladinEnrichmentJob"ì´ë¼ëŠ” ì´ë¦„ì˜ Job ìƒì„±
    @Bean
    public Job aladinEnrichmentJob() {
        return new JobBuilder("aladinEnrichmentJob", jobRepository)
                .start(aladinMasterStep())  // Master Stepìœ¼ë¡œ ì‹œì‘
                .build();
    }
    
    // Master Step: íŒŒí‹°ì…˜ì„ ë‚˜ëˆ„ê³  Worker Stepë“¤ì—ê²Œ ë¶„ë°°
    @Bean
    public Step aladinMasterStep() {
        return new StepBuilder("aladinMasterStep", jobRepository)
                .partitioner("aladinWorkerStep", aladinPartitioner())  // íŒŒí‹°ì…”ë„ˆë¡œ ë¶„ë°°
                .step(aladinWorkerStep())      // ì‹¤ì œ ì‘ì—…ì€ Worker Stepì´ ìˆ˜í–‰
                .gridSize(GRID_SIZE)           // 8ê°œë¡œ ë‚˜ëˆ”
                .taskExecutor(aladinTaskExecutor())  // 8ê°œ ìŠ¤ë ˆë“œë¡œ ë³‘ë ¬ ì‹¤í–‰
                .build();
    }
    
    // Worker Step: ì‹¤ì œ Reader â†’ Processor â†’ Writer ìˆ˜í–‰
    @Bean
    public Step aladinWorkerStep() {
        return new StepBuilder("aladinWorkerStep", jobRepository)
                .<BookEnrichmentTarget, EnrichmentResultDto>chunk(CHUNK_SIZE, transactionManager)
                .reader(aladinEnrichmentReader(null, null))
                .processor(aladinEnrichmentProcessor(null))
                .writer(aladinEnrichmentWriter())
                .listener(quotaExhaustedStepListener)  // ì¿¼í„° ì´ˆê³¼ ì‹œ ì²˜ë¦¬
                .build();
    }
}
```

### 5.2 AladinEnrichmentPartitioner

**ì—­í• **: PENDING ë„ì„œë¥¼ ID ë²”ìœ„ë¡œ 8ë“±ë¶„

```java
@Override
public Map<String, ExecutionContext> partition(int gridSize) {
    // 1. PENDING ë„ì„œì˜ ìµœì†Œ/ìµœëŒ€ ID ì¡°íšŒ
    Long minId = batchRepository.findMinIdByEnrichmentStatus(BatchStatus.PENDING);  // ì˜ˆ: 1
    Long maxId = batchRepository.findMaxIdByEnrichmentStatus(BatchStatus.PENDING);  // ì˜ˆ: 80000
    
    // 2. ë²”ìœ„ ê³„ì‚°
    long range = maxId - minId + 1;  // 80000
    long partitionSize = range / 8;  // 10000
    
    // 3. ê° íŒŒí‹°ì…˜ì— ë²”ìœ„ í• ë‹¹
    for (int i = 0; i < 8; i++) {
        ExecutionContext context = new ExecutionContext();
        context.putLong("startId", minId + (i * partitionSize));   // ì‹œì‘ ID
        context.putLong("endId", minId + ((i + 1) * partitionSize)); // ë ID
        context.putInt("partitionIndex", i);  // íŒŒí‹°ì…˜ ë²ˆí˜¸ (= API í‚¤ ì¸ë±ìŠ¤)
        partitions.put("partition" + i, context);
    }
    
    return partitions;
}
```

**ê²°ê³¼ ì˜ˆì‹œ**:
| íŒŒí‹°ì…˜ | startId | endId | API í‚¤ |
|--------|---------|-------|--------|
| partition0 | 1 | 10000 | ttbmexlove... |
| partition1 | 10001 | 20000 | ttbbak5757... |
| ... | ... | ... | ... |
| partition7 | 70001 | 80000 | ttbsungwk... |

### 5.3 AladinEnrichmentReader

**ì—­í• **: íŒŒí‹°ì…˜ ë²”ìœ„ ë‚´ PENDING ë„ì„œë¥¼ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ì¡°íšŒ

```java
public static RepositoryItemReader<BookEnrichmentTarget> create(
        BatchRepository repository, 
        Long startId,   // Partitionerê°€ í• ë‹¹í•œ ì‹œì‘ ID
        Long endId) {   // Partitionerê°€ í• ë‹¹í•œ ë ID
    
    return new RepositoryItemReaderBuilder<BookEnrichmentTarget>()
            .name("aladinEnrichmentReader")
            .repository(repository)
            .methodName("findPendingForEnrichment")  // Repository ë©”ì„œë“œ ì´ë¦„
            .arguments(List.of(BatchStatus.PENDING, startId, endId))  // ë©”ì„œë“œ ì¸ì
            .sorts(Map.of("id", Sort.Direction.ASC))  // ì •ë ¬
            .pageSize(100)  // 100ê±´ì”© ì¡°íšŒ
            .build();
}
```

**BookEnrichmentTarget**: Readerê°€ Processorì—ê²Œ ì „ë‹¬í•˜ëŠ” ìµœì†Œ ì •ë³´

```java
public record BookEnrichmentTarget(
        Long bookId,     // Book í…Œì´ë¸”ì˜ PK
        String isbn13,   // Aladin API í˜¸ì¶œì— í•„ìš”
        Long batchId     // Batch ìƒíƒœ ì—…ë°ì´íŠ¸ì— í•„ìš”
) {}
```

### 5.4 AladinEnrichmentProcessor â­

**ì—­í• **: Aladin API í˜¸ì¶œ + ë°ì´í„° ì¡°í•© (ê°€ì¥ ì¤‘ìš”!)

```java
@Override
public EnrichmentResultDto process(BookEnrichmentTarget target) {
    
    // 1. ì¿¼í„° ì²´í¬ (5,000ê±´ ì´ˆê³¼ ì‹œ ì˜ˆì™¸ ë°œìƒ!)
    checkDailyQuota();
    
    // 2. Book ì—”í‹°í‹° ì¡°íšŒ (JPA)
    Book book = bookRepository.findById(target.bookId()).orElseThrow();
    entityManager.detach(book);  // JPA ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë¶„ë¦¬ (ì¤‘ìš”!)
    
    // 3. Aladin API í˜¸ì¶œ
    quotaService.incrementAndGet(apiKey);  // Redisì— í˜¸ì¶œ íšŸìˆ˜ ê¸°ë¡
    Optional<AladinItemDto> response = aladinApiClient.lookupByIsbn(target.isbn13(), apiKey);
    
    if (response.isEmpty()) {
        return EnrichmentResultDto.failure(book.getId(), "Aladin API ì‘ë‹µ ì—†ìŒ");
    }
    
    AladinItemDto item = response.get();
    
    // 4. ë°ì´í„° ë§¤í•‘ (ê° ì»´í¬ë„ŒíŠ¸ì— ìœ„ì„)
    bookMapper.mapToBook(book, item);                    // Book í•„ë“œ ì—…ë°ì´íŠ¸
    List<AuthorWithRole> authors = authorExtractor.extract(item);  // ì €ì ì¶”ì¶œ
    List<String> tags = tagExtractor.extract(item.categoryName()); // íƒœê·¸ ì¶”ì¶œ
    
    // 5. ê²°ê³¼ ë°˜í™˜ (Writerì—ê²Œ ì „ë‹¬)
    return EnrichmentResultDto.success(book, authors, tags, item.cover());
}
```

**ì™œ `entityManager.detach(book)`ë¥¼ í•˜ë‚˜ìš”?**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JPAëŠ” "ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸"ì—ì„œ ì—”í‹°í‹°ë¥¼ ê´€ë¦¬í•˜ë©´ì„œ ë³€ê²½ì„ ìë™ ê°ì§€í•¨            â”‚
â”‚  (Dirty Checking)                                                          â”‚
â”‚                                                                            â”‚
â”‚  ë¬¸ì œ: Writerì—ì„œ JDBCë¡œ bulk updateë¥¼ í•˜ëŠ”ë°,                              â”‚
â”‚       JPAë„ ê°™ì€ ë°ì´í„°ë¥¼ updateí•˜ë ¤ê³  í•˜ë©´ ì¶©ëŒ ë°œìƒ!                       â”‚
â”‚                                                                            â”‚
â”‚  í•´ê²°: detach()ë¡œ JPA ê´€ë¦¬ ëŒ€ìƒì—ì„œ ì œì™¸ì‹œí‚´                                 â”‚
â”‚       â†’ Book ê°ì²´ëŠ” ë‹¨ìˆœ ë°ì´í„° ì»¨í…Œì´ë„ˆë¡œë§Œ ì‚¬ìš©                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.5 AladinEnrichmentWriter

**ì—­í• **: Handlerë“¤ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•˜ì—¬ ì €ì¥

```java
@Override
public void write(Chunk<? extends EnrichmentResultDto> chunk) {
    List<EnrichmentResultDto> items = new ArrayList<>(chunk.getItems());
    
    // ëª¨ë“  Handlerë¥¼ order ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
    for (EnrichmentSaveHandler handler : handlers) {
        handler.handle(items);
    }
}
```

**Handler ì‹¤í–‰ ìˆœì„œ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. BookUpdateHandler (order=10)                                           â”‚
â”‚     â†’ Book í…Œì´ë¸”ì˜ description, price ë“± ì—…ë°ì´íŠ¸                          â”‚
â”‚                                                                            â”‚
â”‚  2. ImageSaveHandler (order=20)                                            â”‚
â”‚     â†’ book_image í…Œì´ë¸”ì— í‘œì§€ URL ì €ì¥                                     â”‚
â”‚                                                                            â”‚
â”‚  3. AuthorSaveHandler (order=30)                                           â”‚
â”‚     â†’ author, book_author í…Œì´ë¸”ì— ì €ì ì •ë³´ ì €ì¥                           â”‚
â”‚                                                                            â”‚
â”‚  4. TagSaveHandler (order=40)                                              â”‚
â”‚     â†’ tag, book_tag í…Œì´ë¸”ì— íƒœê·¸ ì •ë³´ ì €ì¥                                 â”‚
â”‚                                                                            â”‚
â”‚  5. BatchStatusHandler (order=50)                                          â”‚
â”‚     â†’ batch í…Œì´ë¸”ì˜ ìƒíƒœë¥¼ COMPLETED ë˜ëŠ” FAILEDë¡œ ì—…ë°ì´íŠ¸                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì™œ Handler íŒ¨í„´ì„ ì‚¬ìš©í•˜ë‚˜ìš”?**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP) ì ìš©!                                                  â”‚
â”‚                                                                            â”‚
â”‚  Before: Writer í•˜ë‚˜ì— ëª¨ë“  ì €ì¥ ë¡œì§ â†’ ì½”ë“œê°€ ìˆ˜ë°± ì¤„...                     â”‚
â”‚  After:  ê° Handlerê°€ í•œ ê°€ì§€ë§Œ ë‹´ë‹¹ â†’ í…ŒìŠ¤íŠ¸/ìœ ì§€ë³´ìˆ˜ ìš©ì´                   â”‚
â”‚                                                                            â”‚
â”‚  ìƒˆë¡œìš´ ì €ì¥ ë¡œì§ ì¶”ê°€? â†’ ìƒˆ Handler ë§Œë“¤ê³  orderë§Œ ì§€ì •í•˜ë©´ ë!              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.6 QuotaExhaustedStepListener

**ì—­í• **: ì¿¼í„° ì´ˆê³¼ ì‹œ "ì‹¤íŒ¨ê°€ ì•„ë‹ˆë¼ ì •ìƒ ì¢…ë£Œ"ë¡œ ì²˜ë¦¬

```java
@Override
public ExitStatus afterStep(StepExecution stepExecution) {
    // Stepì´ FAILEDì¸ë°, ì›ì¸ì´ ì¿¼í„° ì´ˆê³¼ë¼ë©´?
    if (ExitStatus.FAILED.equals(exitStatus) && isQuotaExceededException(failure)) {
        // QUOTA_EXHAUSTED ìƒíƒœë¡œ ë³€ê²½ (FAILEDê°€ ì•„ë‹˜!)
        return new ExitStatus("QUOTA_EXHAUSTED", "ì¼ì¼ API ì¿¼í„° ì†Œì§„");
    }
    return exitStatus;
}
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì™œ FAILEDê°€ ì•„ë‹ˆë¼ QUOTA_EXHAUSTEDë¡œ?                                      â”‚
â”‚                                                                            â”‚
â”‚  FAILED â†’ ë°°ì¹˜ Job ì „ì²´ê°€ "ì‹¤íŒ¨"ë¡œ ê¸°ë¡ë¨ â†’ ëª¨ë‹ˆí„°ë§ ì•ŒëŒ ìš¸ë¦¼ ğŸ“¢            â”‚
â”‚  QUOTA_EXHAUSTED â†’ "ì •ìƒì ìœ¼ë¡œ ì˜¤ëŠ˜ í• ë‹¹ëŸ‰ ë‹¤ ì”€" â†’ ì˜ˆìƒëœ ë™ì‘ âœ“            â”‚
â”‚                                                                            â”‚
â”‚  ë‹¤ìŒ ë‚  Job ì¬ì‹œì‘í•˜ë©´ ë‚¨ì€ PENDING ë„ì„œë¶€í„° ê³„ì† ì²˜ë¦¬ë¨                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Redisë¥¼ ì´ìš©í•œ ì¿¼í„° ê´€ë¦¬

### 6.1 AladinQuotaService

**ì—­í• **: API í‚¤ë³„ ì¼ì¼ ì‚¬ìš©ëŸ‰ì„ Redisì— ê¸°ë¡/ì¡°íšŒ

```java
@Service
public class AladinQuotaService {
    
    private static final int DAILY_QUOTA_LIMIT = 5000;  // í•˜ë£¨ 5,000ê±´
    
    // Redis í‚¤ í˜•ì‹: aladin:quota:2024-12-01:ttbmexlo
    private String buildKey(String apiKey) {
        String today = LocalDate.now().format(DateTimeFormatter.ofPattern("yyyy-MM-dd"));
        String keyShort = apiKey.substring(0, 8);  // API í‚¤ ì• 8ìë§Œ ì‚¬ìš©
        return "aladin:quota:" + today + ":" + keyShort;
    }
    
    // API í˜¸ì¶œ í›„ ì¹´ìš´íŠ¸ ì¦ê°€
    public long incrementAndGet(String apiKey) {
        String key = buildKey(apiKey);
        Long count = redisTemplate.opsForValue().increment(key);
        
        // ì²« í˜¸ì¶œ ì‹œ ìì •ê¹Œì§€ TTL ì„¤ì •
        if (count == 1) {
            redisTemplate.expire(key, calculateTtlUntilMidnight());
        }
        return count;
    }
    
    // ì¿¼í„° ì´ˆê³¼ ì—¬ë¶€ í™•ì¸
    public boolean isQuotaExceeded(String apiKey) {
        return getCurrentUsage(apiKey) >= DAILY_QUOTA_LIMIT;
    }
}
```

### 6.2 Redisì— ì €ì¥ë˜ëŠ” ë°ì´í„° ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Redis Keys (2024-12-01 ê¸°ì¤€)                                              â”‚
â”‚                                                                            â”‚
â”‚  aladin:quota:2024-12-01:ttbmexlo  â†’  4532   (APIí‚¤1: 4,532ê±´ ì‚¬ìš©)        â”‚
â”‚  aladin:quota:2024-12-01:ttbbak57  â†’  5000   (APIí‚¤2: 5,000ê±´ ì‚¬ìš© - ë!)  â”‚
â”‚  aladin:quota:2024-12-01:ttbdbwlr  â†’  3821   (APIí‚¤3: 3,821ê±´ ì‚¬ìš©)        â”‚
â”‚  ...                                                                       â”‚
â”‚                                                                            â”‚
â”‚  ìì •ì´ ë˜ë©´? â†’ TTL ë§Œë£Œë¡œ ìë™ ì‚­ì œ!                                        â”‚
â”‚  ë‹¤ìŒ ë‚  ì²« API í˜¸ì¶œ ì‹œ ë‹¤ì‹œ ì¹´ìš´íŠ¸ ì‹œì‘                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 ì™œ Redisë¥¼ ì‚¬ìš©í•˜ë‚˜ìš”?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë¬¸ì œ: ë°°ì¹˜ê°€ ë„ì¤‘ì— ì£½ìœ¼ë©´?                                                 â”‚
â”‚                                                                            â”‚
â”‚  ë©”ëª¨ë¦¬ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•  ê²½ìš°:                                                  â”‚
â”‚  - 4,000ê±´ ì²˜ë¦¬ í›„ ì—ëŸ¬ë¡œ ì¤‘ë‹¨                                              â”‚
â”‚  - Job ì¬ì‹œì‘                                                               â”‚
â”‚  - ì¹´ìš´íŠ¸ê°€ 0ë¶€í„° ë‹¤ì‹œ ì‹œì‘ â†’ 4,000 + 5,000 = 9,000ê±´ í˜¸ì¶œ!                 â”‚
â”‚  - API ì œí•œ ì´ˆê³¼ë¡œ ì°¨ë‹¨ë  ìˆ˜ ìˆìŒ ğŸš«                                         â”‚
â”‚                                                                            â”‚
â”‚  Redisë¡œ ê´€ë¦¬í•  ê²½ìš°:                                                       â”‚
â”‚  - 4,000ê±´ ì²˜ë¦¬ í›„ ì—ëŸ¬ë¡œ ì¤‘ë‹¨ (Redisì— 4,000 ì €ì¥ë¨)                        â”‚
â”‚  - Job ì¬ì‹œì‘                                                               â”‚
â”‚  - Redisì—ì„œ 4,000 ì¡°íšŒ â†’ ë‚˜ë¨¸ì§€ 1,000ê±´ë§Œ ì²˜ë¦¬ âœ“                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. GitHub Actionsë¡œ ìŠ¤ì¼€ì¤„ë§í•˜ê¸°

### 7.1 ì™œ GitHub Actions?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë§¤ì¼ ì§ì ‘ ë°°ì¹˜ ì‹¤í–‰? â†’ í˜„ì‹¤ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥ ğŸ˜…                                 â”‚
â”‚                                                                            â”‚
â”‚  í•´ê²°ì±…:                                                                    â”‚
â”‚  1. ì„œë²„ì˜ cron â†’ ì„œë²„ê°€ 24ì‹œê°„ ë– ìˆì–´ì•¼ í•¨                                  â”‚
â”‚  2. GitHub Actions Schedule â†’ ë¬´ë£Œ! ì„œë²„ ì—†ì´ ì‹¤í–‰ ê°€ëŠ¥!                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 ìŠ¤ì¼€ì¤„ë§ ì„¤ì • ì˜ˆì‹œ

`.github/workflows/aladin-enrichment.yml`:

```yaml
name: Aladin Enrichment Batch

on:
  # ë§¤ì¼ ìƒˆë²½ 3ì‹œ (KST) ì‹¤í–‰ = UTC 18:00 (ì „ë‚ )
  schedule:
    - cron: '0 18 * * *'  # UTC ê¸°ì¤€! í•œêµ­ ì‹œê°„ +9ì‹œê°„
  
  # ìˆ˜ë™ ì‹¤í–‰ë„ ê°€ëŠ¥í•˜ê²Œ
  workflow_dispatch:

jobs:
  run-batch:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      
      - name: Setup Java 21
        uses: actions/setup-java@v4
        with:
          distribution: 'temurin'
          java-version: '21'
          cache: 'maven'
      
      - name: Run Aladin Enrichment Batch
        run: |
          ./mvnw spring-boot:run \
            -Dspring-boot.run.arguments="--spring.batch.job.name=aladinEnrichmentJob"
        env:
          # GitHub Secretsì—ì„œ ë¯¼ê° ì •ë³´ ê°€ì ¸ì˜¤ê¸°
          SPRING_DATASOURCE_URL: ${{ secrets.DB_URL }}
          SPRING_DATASOURCE_USERNAME: ${{ secrets.DB_USERNAME }}
          SPRING_DATASOURCE_PASSWORD: ${{ secrets.DB_PASSWORD }}
          SPRING_DATA_REDIS_HOST: ${{ secrets.REDIS_HOST }}
          SPRING_DATA_REDIS_PASSWORD: ${{ secrets.REDIS_PASSWORD }}
          ALADIN_API_KEYS: ${{ secrets.ALADIN_API_KEYS }}
```

### 7.3 Cron í‘œí˜„ì‹ ì´í•´í•˜ê¸°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ë¶„ (0-59)
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì‹œ (0-23)
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€ ì¼ (1-31)
â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€ ì›” (1-12)
â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€ ìš”ì¼ (0-6, 0=ì¼ìš”ì¼)
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â”‚
0 18 * * *     â†’ ë§¤ì¼ UTC 18:00 (= KST 03:00)
```

**ìì£¼ ì“°ëŠ” ì˜ˆì‹œ**:
| í‘œí˜„ì‹ | ì˜ë¯¸ |
|--------|------|
| `0 18 * * *` | ë§¤ì¼ ìƒˆë²½ 3ì‹œ (KST) |
| `0 15 * * 1-5` | í‰ì¼ ìì • (KST) |
| `0 */6 * * *` | 6ì‹œê°„ë§ˆë‹¤ |
| `0 0 * * 0` | ë§¤ì£¼ ì¼ìš”ì¼ ì˜¤ì „ 9ì‹œ (KST) |

### 7.4 GitHub Secrets ì„¤ì •

```
Repository â†’ Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret

í•„ìš”í•œ Secrets:
- DB_URL: jdbc:mysql://s4.java21.net:13306/project_be12_team4
- DB_USERNAME: project_be12_team4
- DB_PASSWORD: ********
- REDIS_HOST: s4.java21.net
- REDIS_PASSWORD: ********
- ALADIN_API_KEYS: ttbmexlove...,ttbbak5757...,...
```

### 7.5 ì‹¤í–‰ í™•ì¸

```
Repository â†’ Actions â†’ Aladin Enrichment Batch

ì‹¤í–‰ ë¡œê·¸ í™•ì¸ ê°€ëŠ¥:
- ì²˜ë¦¬ëœ ë„ì„œ ìˆ˜
- ê° íŒŒí‹°ì…˜ë³„ ì§„í–‰ ìƒí™©
- ì¿¼í„° ì†Œì§„ ì—¬ë¶€
- ì—ëŸ¬ ë°œìƒ ì‹œ ìƒì„¸ ë¡œê·¸
```

---

## 8. ì „ì²´ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚GitHub Actionsâ”‚  â”‚  Application  â”‚  â”‚  Partitioner   â”‚  â”‚   Worker    â”‚  â”‚   Redis   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚ cron trigger     â”‚                  â”‚                  â”‚               â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚ Job ì‹œì‘         â”‚                  â”‚               â”‚
       â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚ PENDING ì¡°íšŒ     â”‚               â”‚
       â”‚                  â”‚                  â”‚   (min/max ID)   â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚ 8ê°œ íŒŒí‹°ì…˜ ìƒì„±  â”‚               â”‚
       â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚      [8ê°œ Worker ë³‘ë ¬ ì‹¤í–‰]      â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚ ì¿¼í„° ì²´í¬     â”‚
       â”‚                  â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                  â”‚                  â”‚                  â”‚ í˜„ì¬ ì‚¬ìš©ëŸ‰   â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚â”€â”€â”            â”‚
       â”‚                  â”‚                  â”‚                  â”‚  â”‚ Aladin API â”‚
       â”‚                  â”‚                  â”‚                  â”‚<â”€â”˜ í˜¸ì¶œ       â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚ ì¹´ìš´íŠ¸ ì¦ê°€   â”‚
       â”‚                  â”‚                  â”‚                  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚â”€â”€â”            â”‚
       â”‚                  â”‚                  â”‚                  â”‚  â”‚ DB ì €ì¥    â”‚
       â”‚                  â”‚                  â”‚                  â”‚<â”€â”˜ (Handler)  â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚    [5,000ê±´ ë„ë‹¬ ì‹œ]             â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚ ì¿¼í„° ì´ˆê³¼!    â”‚
       â”‚                  â”‚                  â”‚                  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚ QUOTA_EXHAUSTED  â”‚               â”‚
       â”‚                  â”‚                  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚ Job ì™„ë£Œ         â”‚                  â”‚               â”‚
       â”‚                  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
       â”‚ workflow ì™„ë£Œ    â”‚                  â”‚                  â”‚               â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚               â”‚
       â”‚                  â”‚                  â”‚                  â”‚               â”‚
```

---

## 9. FAQ & íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### â“ Q1: ë°°ì¹˜ê°€ ì¤‘ê°„ì— ì£½ìœ¼ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Spring BatchëŠ” ì¬ì‹œì‘ì„ ì§€ì›í•©ë‹ˆë‹¤!                                         â”‚
â”‚                                                                            â”‚
â”‚  - ì²˜ë¦¬ ì™„ë£Œëœ ì²­í¬ëŠ” DBì— ê¸°ë¡ë¨                                            â”‚
â”‚  - Job ì¬ì‹œì‘ ì‹œ ë§ˆì§€ë§‰ ì²­í¬ë¶€í„° ì´ì–´ì„œ ì²˜ë¦¬                                  â”‚
â”‚  - Redis ì¿¼í„°ë„ ìœ ì§€ë˜ë¯€ë¡œ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€                                     â”‚
â”‚                                                                            â”‚
â”‚  ë‹¨, PENDING ìƒíƒœì¸ ë„ì„œë§Œ ì²˜ë¦¬í•˜ë¯€ë¡œ                                        â”‚
â”‚  COMPLETED/FAILEDë¡œ ë³€ê²½ëœ ë„ì„œëŠ” ê±´ë„ˆëœ€                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### â“ Q2: 8ê°œ íŒŒí‹°ì…˜ ì¤‘ ì¼ë¶€ë§Œ ì‹¤íŒ¨í•˜ë©´?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê° íŒŒí‹°ì…˜ì€ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤                                           â”‚
â”‚                                                                            â”‚
â”‚  partition0: ì„±ê³µ (5,000ê±´ ì²˜ë¦¬)                                            â”‚
â”‚  partition1: ì„±ê³µ (5,000ê±´ ì²˜ë¦¬)                                            â”‚
â”‚  partition2: ì‹¤íŒ¨ (ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬)  â† ì´ íŒŒí‹°ì…˜ë§Œ FAILED                      â”‚
â”‚  partition3~7: ì„±ê³µ                                                         â”‚
â”‚                                                                            â”‚
â”‚  Job ì „ì²´ëŠ” FAILEDë¡œ ê¸°ë¡ë˜ì§€ë§Œ,                                             â”‚
â”‚  ì„±ê³µí•œ íŒŒí‹°ì…˜ì˜ ë°ì´í„°ëŠ” ì €ì¥ë¨!                                             â”‚
â”‚  ë‹¤ìŒ ì‹¤í–‰ ì‹œ partition2ì˜ ë¯¸ì²˜ë¦¬ ë„ì„œë¶€í„° ì²˜ë¦¬                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### â“ Q3: API ì‘ë‹µì´ ì—†ëŠ” ë„ì„œëŠ”?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EnrichmentResultDto.failure()ë¡œ ì‹¤íŒ¨ ì²˜ë¦¬ë¨                                 â”‚
â”‚                                                                            â”‚
â”‚  BatchStatusHandlerì—ì„œ:                                                    â”‚
â”‚  - ìƒíƒœ: FAILED                                                             â”‚
â”‚  - ì—ëŸ¬ ë©”ì‹œì§€: "Aladin API ì‘ë‹µ ì—†ìŒ"                                       â”‚
â”‚                                                                            â”‚
â”‚  í•´ë‹¹ ë„ì„œëŠ” ë‹¤ì‹œ ì²˜ë¦¬ë˜ì§€ ì•ŠìŒ (FAILED ìƒíƒœì´ë¯€ë¡œ)                           â”‚
â”‚  í•„ìš” ì‹œ ìˆ˜ë™ìœ¼ë¡œ ìƒíƒœë¥¼ PENDINGìœ¼ë¡œ ë³€ê²½ í›„ ì¬ì‹œë„                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### â“ Q4: ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´?

```bash
# íŠ¹ì • Jobë§Œ ì‹¤í–‰
./mvnw spring-boot:run \
  -Dspring-boot.run.arguments="--spring.batch.job.name=aladinEnrichmentJob"

# ë˜ëŠ” Applicationì—ì„œ ì§ì ‘ ì‹¤í–‰ (spring.batch.job.enabled=trueë¡œ ë³€ê²½ í•„ìš”)
```

### â“ Q5: ì¿¼í„°ë¥¼ ëŠ˜ë¦¬ê³  ì‹¶ìœ¼ë©´?

```java
// AladinQuotaService.java
private static final int DAILY_QUOTA_LIMIT = 5000;  // ì´ ê°’ì„ ë³€ê²½

// ë˜ëŠ” application.ymlì—ì„œ ì™¸ë¶€ ì„¤ì •ìœ¼ë¡œ ê´€ë¦¬
@Value("${aladin.quota.daily-limit:5000}")
private int dailyQuotaLimit;
```

---

## ğŸ“ ë§ˆë¬´ë¦¬

ì´ ë°°ì¹˜ëŠ” **Spring Batchì˜ í•µì‹¬ ê¸°ëŠ¥ë“¤ì„ ì˜ í™œìš©í•œ ì˜ˆì‹œ**ì…ë‹ˆë‹¤:

1. **Chunk Processing**: ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬
2. **Partitioning**: ë³‘ë ¬ ì²˜ë¦¬ë¡œ ì„±ëŠ¥ í–¥ìƒ
3. **@StepScope**: íŒŒí‹°ì…˜ë³„ ë‹¤ë¥¸ ì„¤ì • ì ìš©
4. **Handler Pattern**: ì €ì¥ ë¡œì§ ë¶„ë¦¬ë¡œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
5. **Redis ì—°ë™**: ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ìƒíƒœ ê´€ë¦¬
6. **GitHub Actions**: ì„œë²„ ì—†ì´ ìŠ¤ì¼€ì¤„ë§

ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ë¬¼ì–´ë³´ì„¸ìš”! ğŸ™Œ
